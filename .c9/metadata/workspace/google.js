{"filter":false,"title":"google.js","tooltip":"/google.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":31,"column":3},"action":"insert","lines":["var links = [];","var casper = require('casper').create();","","function getLinks() {","    var links = document.querySelectorAll('h3.r a');","    return Array.prototype.map.call(links, function(e) {","        return e.getAttribute('href');","    });","}","","casper.start('http://google.fr/', function() {","    // search for 'casperjs' from google form","    this.fill('form[action=\"/search\"]', { q: 'casperjs' }, true);","});","","casper.then(function() {","    // aggregate results for the 'casperjs' search","    links = this.evaluate(getLinks);","    // now search for 'phantomjs' by filling the form again","    this.fill('form[action=\"/search\"]', { q: 'phantomjs' }, true);","});","","casper.then(function() {","    // aggregate results for the 'phantomjs' search","    links = links.concat(this.evaluate(getLinks));","});","","casper.run(function() {","    // echo results in some pretty fashion","    this.echo(links.length + ' links found:');","    this.echo(' - ' + links.join('\\n - ')).exit();","});"]}]}]]},"ace":{"folds":[],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":15,"column":0},"end":{"row":20,"column":3},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1418981906892,"hash":"cf9836fac781d00eaade226a19fb782ef9755478"}